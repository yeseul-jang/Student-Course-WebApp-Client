{"ast":null,"code":"var _jsxFileName = \"/Users/kyungjin/Student-Course-WebApp-Client/src/components/ListCourses.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { withRouter } from 'react-router-dom';\nimport Login from './Login';\nimport Table from 'react-bootstrap/Table';\nimport Button from 'react-bootstrap/Button';\n\nfunction ListCourses(props) {\n  const [data, setData] = useState([]);\n  const [showLoading, setShowLoading] = useState(true);\n  const apiUrl = \"http://localhost:3000/api/courses\";\n  const apiAddCourseUrl = \"http://localhost:3000/api/addCourse\";\n  const [message, setMessage] = useState('');\n  useEffect(() => {\n    const fetchData = async () => {\n      axios.get(apiUrl).then(result => {\n        console.log('result.data:', result.data);\n        console.log('data in if:', result.data);\n        setData(result.data);\n        setShowLoading(false);\n      }).catch(error => {\n        console.log('error in fetchData:', error);\n      });\n    };\n\n    fetchData();\n  }, []);\n\n  const showDetail = id => {\n    props.history.push({\n      pathname: '/showCourse/' + id\n    });\n  };\n\n  const addCourse = courseId => {\n    setShowLoading(true);\n    axios.post(apiAddCourseUrl + \"/\" + courseId, courseId).then(result => {\n      setShowLoading(false);\n      console.log('message:', result.data);\n      setMessage(result.data);\n    }).catch(error => setShowLoading(false));\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, data.length !== 0 ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, showLoading && React.createElement(Spinner, {\n    animation: \"border\",\n    role: \"status\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"sr-only\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Loading...\")), message !== null && React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Message : \", message), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"List of Courses\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), React.createElement(Table, {\n    responsive: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Code\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Section\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Semester\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, data.map((item, idx) => React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, item.courseCode), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, item.courseName), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, item.section), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, item.semester), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: () => {\n      showDetail(item._id);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Detail\"), React.createElement(Button, {\n    onClick: () => {\n      addCourse(item._id);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"Add Course\"))))))) : React.createElement(Login, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }));\n} //\n\n\nexport default withRouter(ListCourses);","map":{"version":3,"sources":["/Users/kyungjin/Student-Course-WebApp-Client/src/components/ListCourses.js"],"names":["React","useState","useEffect","axios","ListGroup","Spinner","withRouter","Login","Table","Button","ListCourses","props","data","setData","showLoading","setShowLoading","apiUrl","apiAddCourseUrl","message","setMessage","fetchData","get","then","result","console","log","catch","error","showDetail","id","history","push","pathname","addCourse","courseId","post","length","map","item","idx","courseCode","courseName","section","semester","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { withRouter } from 'react-router-dom';\nimport Login from './Login';\nimport Table from 'react-bootstrap/Table';\nimport Button from 'react-bootstrap/Button';\n\nfunction ListCourses(props) {\n  const [data, setData] = useState([]);\n  const [showLoading, setShowLoading] = useState(true);\n  const apiUrl = \"http://localhost:3000/api/courses\";\n  const apiAddCourseUrl = \"http://localhost:3000/api/addCourse\";\n  const [message, setMessage] = useState('');\n\n  useEffect(() => {\n    const fetchData = async () => {\n      axios.get(apiUrl)\n        .then(result => {\n          console.log('result.data:', result.data)\n\n          console.log('data in if:', result.data)\n          setData(result.data);\n          setShowLoading(false);\n\n        }).catch((error) => {\n          console.log('error in fetchData:', error)\n        });\n    };\n    fetchData();\n  }, []);\n\n  const showDetail = (id) => {\n\n    props.history.push({\n      pathname: '/showCourse/' + id\n    });\n  }\n\n  const addCourse = (courseId) => {\n    setShowLoading(true);\n    axios.post(apiAddCourseUrl+\"/\"+courseId, courseId)\n    .then((result) => {\n        setShowLoading(false);\n        console.log('message:',result.data);\n        setMessage(result.data);\n\n    }).catch((error) => setShowLoading(false));\n  }\n\n  return (\n    <div>\n      {data.length !== 0\n        ? <div>\n          {showLoading && <Spinner animation=\"border\" role=\"status\">\n            <span className=\"sr-only\">Loading...</span>\n          </Spinner>}\n\n          {message !== null &&\n            <p>Message : {message}</p>            \n          }\n\n          <h2>List of Courses</h2><br />\n\n          <Table responsive>\n            <thead>\n              <tr>\n                <th scope=\"col\">Code</th>\n                <th scope=\"col\">Name</th>\n                <th scope=\"col\">Section</th>\n                <th scope=\"col\">Semester</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              {data.map((item, idx) => (\n                <tr>\n                  <td>{item.courseCode}</td>\n                  <td>{item.courseName}</td>\n                  <td>{item.section}</td>\n                  <td>{item.semester}</td>\n                  <td>\n                    <Button onClick={() => { showDetail(item._id) }}>Detail</Button>\n                    <Button onClick={() => { addCourse(item._id) }}>Add Course</Button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </Table>\n        </div>\n        : < Login />\n      }\n    </div>\n\n  );\n}\n//\nexport default withRouter(ListCourses);\n"]},"metadata":{},"sourceType":"module"}