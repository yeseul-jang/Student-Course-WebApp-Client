{"ast":null,"code":"var _jsxFileName = \"/Users/kyungjin/Student-Course-WebApp-Client/src/components/ShowCourse.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Spinner from 'react-bootstrap/Spinner';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Button from 'react-bootstrap/Button';\nimport { withRouter } from 'react-router-dom';\nimport Table from 'react-bootstrap/Table';\nimport { Provider as AlertProvider } from 'react-alert';\nimport AlertTemplate from 'react-alert-template-basic';\nimport { useAlert } from 'react-alert';\n\nfunction ShowCourse(props) {\n  const [data, setData] = useState({});\n  const [showLoading, setShowLoading] = useState(true);\n  const apiUrl = \"http://localhost:3000/api/courses/\" + props.match.params.id;\n  const apiStudentListUrl = \"http://localhost:3000/api/studentListByCourse/\" + props.match.params.id;\n  const [studentData, setStudentData] = useState([]);\n  const [sessionId, setSessionId] = useState('');\n  const alert = useAlert(); // optional cofiguration\n\n  const options = {\n    position: 'bottom center',\n    timeout: 5000,\n    offset: '30px',\n    transition: 'scale'\n  };\n\n  const Root = () => React.createElement(AlertProvider, Object.assign({\n    template: AlertTemplate\n  }, options, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }));\n\n  render(React.createElement(Root, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }), document.getElementById('root'));\n  useEffect(() => {\n    setShowLoading(false);\n\n    const fetchData = async () => {\n      const result = await axios(apiUrl);\n      console.log('results from courses', result.data);\n      setData(result.data.course);\n      setSessionId(result.data.sessionId);\n      const resultStudentList = await axios(apiStudentListUrl);\n      console.log('results from studentList', resultStudentList.data);\n      setStudentData(resultStudentList.data);\n      setShowLoading(false);\n    };\n\n    fetchData();\n  }, []);\n\n  const editCourse = (id, creatorId) => {\n    console.log(\"creatorId >>> \", creatorId);\n\n    if (creatorId != sessionId) {\n      console.log(\"diff session !!\");\n      alert.show('Oh look, an alert!');\n    } else {\n      props.history.push({\n        pathname: '/editCourse/' + id\n      });\n    }\n  };\n\n  const deleteCourse = id => {\n    setShowLoading(true);\n    const course = {\n      courseCode: data.courseCode,\n      courseName: data.courseName,\n      section: data.section,\n      semester: data.semester,\n      studentNumber: data.studentNumber\n    };\n    axios.delete(apiUrl, course).then(result => {\n      setShowLoading(false);\n      props.history.push('/listCourses');\n    }).catch(error => setShowLoading(false));\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, showLoading && React.createElement(Spinner, {\n    animation: \"border\",\n    role: \"status\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"sr-only\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Loading...\")), React.createElement(Jumbotron, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Course Name: \", data.courseName), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"Course Code: \", data.courseCode), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"Section: \", data.section), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Semester: \", data.semester), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(Button, {\n    type: \"button\",\n    variant: \"primary\",\n    onClick: () => {\n      editCourse(data._id, data.creator);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Edit\"), \"\\xA0\", React.createElement(Button, {\n    type: \"button\",\n    variant: \"danger\",\n    onClick: () => {\n      deleteCourse(data._id, data.creator);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"Delete\"))), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"List of Students\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }), React.createElement(Table, {\n    responsive: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"Student Number\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"Program\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, studentData.map((item, idx) => React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, item.studentNumber), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, item.fullName), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, item.program))))));\n}\n\nexport default withRouter(ShowCourse);","map":{"version":3,"sources":["/Users/kyungjin/Student-Course-WebApp-Client/src/components/ShowCourse.js"],"names":["React","useState","useEffect","axios","Spinner","Jumbotron","Button","withRouter","Table","Provider","AlertProvider","AlertTemplate","useAlert","ShowCourse","props","data","setData","showLoading","setShowLoading","apiUrl","match","params","id","apiStudentListUrl","studentData","setStudentData","sessionId","setSessionId","alert","options","position","timeout","offset","transition","Root","render","document","getElementById","fetchData","result","console","log","course","resultStudentList","editCourse","creatorId","show","history","push","pathname","deleteCourse","courseCode","courseName","section","semester","studentNumber","delete","then","catch","error","_id","creator","map","item","idx","fullName","program"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Spinner from 'react-bootstrap/Spinner';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\nimport Button from 'react-bootstrap/Button';\nimport { withRouter } from 'react-router-dom';\nimport Table from 'react-bootstrap/Table';\nimport { Provider as AlertProvider } from 'react-alert'\nimport AlertTemplate from 'react-alert-template-basic'\nimport { useAlert } from 'react-alert'\n\nfunction ShowCourse(props) {\n  const [data, setData] = useState({});\n  const [showLoading, setShowLoading] = useState(true);\n  const apiUrl = \"http://localhost:3000/api/courses/\" + props.match.params.id;\n  const apiStudentListUrl = \"http://localhost:3000/api/studentListByCourse/\" + props.match.params.id;\n  const [studentData, setStudentData] = useState([]);\n  const [sessionId, setSessionId] = useState('');\n  const alert = useAlert();\n\n  // optional cofiguration\nconst options = {\n  position: 'bottom center',\n  timeout: 5000,\n  offset: '30px',\n  transition: 'scale'\n}\n\nconst Root = () => (\n  <AlertProvider template={AlertTemplate} {...options}>\n  </AlertProvider>\n)\n\nrender(<Root />, document.getElementById('root'))\n\n\n  useEffect(() => {\n    setShowLoading(false);\n    const fetchData = async () => {\n      const result = await axios(apiUrl);\n      console.log('results from courses', result.data);\n      setData(result.data.course);\n      setSessionId(result.data.sessionId);\n\n      const resultStudentList = await axios(apiStudentListUrl);\n      console.log('results from studentList', resultStudentList.data);\n      setStudentData(resultStudentList.data);\n\n      setShowLoading(false);\n    };\n\n    fetchData();\n  }, []);\n\n  const editCourse = (id, creatorId) => {\n    console.log(\"creatorId >>> \", creatorId);\n\n    if(creatorId != sessionId) {\n      console.log(\"diff session !!\");\n      alert.show('Oh look, an alert!')\n \n    }else {\n      props.history.push({\n        pathname: '/editCourse/' + id\n      });\n    }\n\n  };\n\n  const deleteCourse = (id) => {\n    setShowLoading(true);\n    const course = {\n      courseCode: data.courseCode,\n      courseName: data.courseName,\n      section: data.section,\n      semester: data.semester,\n      studentNumber: data.studentNumber\n    };\n    axios.delete(apiUrl, course)\n      .then((result) => {\n        setShowLoading(false);\n        props.history.push('/listCourses')\n      }).catch((error) => setShowLoading(false));\n  };\n\n  return (\n    <div>\n      {showLoading && <Spinner animation=\"border\" role=\"status\">\n        <span className=\"sr-only\">Loading...</span>\n      </Spinner>}\n      <Jumbotron>\n        <h1>Course Name: {data.courseName}</h1>\n        <p>Course Code: {data.courseCode}</p>\n        <p>Section: {data.section}</p>\n        <p>Semester: {data.semester}</p>\n\n        <p>\n          <Button type=\"button\" variant=\"primary\" onClick={() => { editCourse(data._id, data.creator) }}>Edit</Button>&nbsp;\n          <Button type=\"button\" variant=\"danger\" onClick={() => { deleteCourse(data._id, data.creator) }}>Delete</Button>\n        </p>\n      </Jumbotron>\n\n\n      <h2>List of Students</h2><br />\n\n      <Table responsive>\n        <thead>\n          <tr>\n            <th scope=\"col\">Student Number</th>\n            <th scope=\"col\">Name</th>\n            <th scope=\"col\">Program</th>\n          </tr>\n        </thead>\n        <tbody>\n          {studentData.map((item, idx) => (\n            <tr>\n              <td>{item.studentNumber}</td>\n              <td>{item.fullName}</td>\n              <td>{item.program}</td>\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n    </div>\n  );\n}\n\nexport default withRouter(ShowCourse);\n"]},"metadata":{},"sourceType":"module"}